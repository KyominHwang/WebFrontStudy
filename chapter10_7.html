<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>산수를 풀어봅시다.</title>
</head>
<body>
    <h1>산수 문제를 풀어 봅시다.</h1>
<p>수식을 계산하여 답을 입력하고 채점 버튼을 누르세요.</p>
    남은 시간 : <span id="timeLeft">10</span>
<hr>
    <form>
        <span id="pro1">5 * 6</span> <input type="text" class="js-pro1"> <br>
        <span id="pro2">7 + 5 * 3</span> <input type="text" class="js-pro2"> <br>
        <span id="pro3">23 * 2</span> <input type="text" class="js-pro3"> <br>
        <span id="pro4">35 - 7</span> <input type="text" class="js-pro4"> <br>
        <input type="button" onclick = "getScore()" value="채점"> <span id="score">0</span>
        <input type="button" onclick="restart()" value="다시">
    </form>
<script>
    let pro1 = document.querySelector(".js-pro1");
    let pro2 = document.querySelector(".js-pro2");
    let pro3 = document.querySelector(".js-pro3");
    let pro4 = document.querySelector(".js-pro4");

    function restart(){
        pro1.value = "";
        pro2.value = "";
        pro3.value = "";
        pro4.value = "";
        document.querySelector("#score").innerHTML = 0;
        document.querySelector("#pro1").style.textDecoration = "none";
        document.querySelector("#pro2").style.textDecoration = "none";
        document.querySelector("#pro3").style.textDecoration = "none";
        document.querySelector("#pro4").style.textDecoration = "none";
        document.querySelector("#timeLeft").innerHTML = 10;
        time = setInterval(calcTime,1000);
    }
    //사실 form을 가지고 와서 for문 돌면서 해주는 것이 더 편할듯함.
    function getScore(){
        let count = 0;
        if(pro1.value == 30) count += 1;
        else document.querySelector("#pro1").style.textDecoration = "line-through";
        if(pro2.value == 22) count+=1;
        else document.querySelector("#pro2").style.textDecoration = "line-through";
        if(pro3.value == 46) count+=1;
        else document.querySelector("#pro3").style.textDecoration = "line-through";
        if(pro4.value == 28) count+=1;
        else document.querySelector("#pro4").style.textDecoration = "line-through";
        document.querySelector("#score").innerHTML = count;
    }
    function calcTime(){
        if(parseInt(document.querySelector("#timeLeft").innerHTML) > 0)
            document.querySelector("#timeLeft").innerHTML = parseInt(document.querySelector("#timeLeft").innerHTML) - 1;
        else{
            clearInterval(time);
            getScore();
        }
    }
    let time = setInterval(calcTime, 1000);
</script>
</body>
</html>